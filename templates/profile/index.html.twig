{% extends 'base.html.twig' %} {% block title %} My profile {% endblock %}{%
block body %} {% include "partials/flash.html.twig" %}

<h1>Profile</h1>
<div class="mb-4">
  <a class="btn btn-success btn-sm" href="{{ path('threads.create') }}"
    >Create a new thread</a
  >
  {% if app.user.threads|length > 0 %}
  <a class="btn btn-warning btn-sm" href="{{ path('profile.threads') }}"
    >My threads</a
  >
  {% endif %} {% if app.user.comments|length > 0 %}
  <a class="btn btn-secondary btn-sm" href="{{ path('profile.comments') }}"
    >My comments</a
  >
  {% endif %}
</div>
<p>Use that form to update your profile:</p>
{{ form_start(form) }}
{{ form_row(form.username) }}
{{ form_row(form.email) }}
<button class="btn btn-success" type="submit">Save infos</button>
{{ form_end(form) }}

{{ form_start(passwordForm) }}
{{ form_row(passwordForm.password) }}
{{ form_row(passwordForm.newPassword) }}
<button class="btn btn-success" type="submit">Save new password</button>
{{ form_end(passwordForm) }}

<div class="d-inline-block">
  <div class="alert alert-light d-flex gap-2 mt-4" role="alert">
    {% if user.createdAt != user.updatedAt %}
    <p>Last modified: {{ user.updatedAt|date('Y/m/d') }}</p>
    {% endif %}
    <p>created: {{ user.createdAt|date('Y/m/d') }}</p>
  </div>
</div>

<div>
  <a class="btn btn-danger" href="{{ path('profile.delete') }}"
    >Delete my account</a
  >
</div>
{% endblock %}
